const a4_0xdd55=['RUNNER_FAILURE_PERF_ENTRY','Completed\x20run\x20group\x20with\x20an\x20error','../../../utilities/metric-logger','mapRespToPerfEntry','then','VERBOSE_LOGGING','recordMetric','apply','tasks','done','Completing\x20run\x20group\x20with\x20an\x20error','runGroup:\x20','throw','__esModule','__awaiter','createMetricRecorder','axiosException','error','completeRunGroupWithError','response','DistributedAgentApi','error:\x20','apiAxiosInstance','next','note','post','../../../utilities/axios','value','runGroup','agentName'];(function(_0xcbbe07,_0xdd5510){const _0x2174aa=function(_0x3e344e){while(--_0x3e344e){_0xcbbe07['push'](_0xcbbe07['shift']());}};_0x2174aa(++_0xdd5510);}(a4_0xdd55,0x99));const a4_0x2174=function(_0xcbbe07,_0xdd5510){_0xcbbe07=_0xcbbe07-0x0;let _0x2174aa=a4_0xdd55[_0xcbbe07];return _0x2174aa;};'use strict';var __awaiter=this&&this[a4_0x2174('0xb')]||function(_0x123dba,_0x17b178,_0x537fb4,_0x701baf){function _0x1404e0(_0x374662){return _0x374662 instanceof _0x537fb4?_0x374662:new _0x537fb4(function(_0x48c053){_0x48c053(_0x374662);});}return new(_0x537fb4||(_0x537fb4=Promise))(function(_0x20a856,_0x40940d){function _0x49a877(_0x2fbca6){try{_0x14c7a7(_0x701baf[a4_0x2174('0x14')](_0x2fbca6));}catch(_0x375193){_0x40940d(_0x375193);}}function _0x3d8dd9(_0x2e2109){try{_0x14c7a7(_0x701baf[a4_0x2174('0x9')](_0x2e2109));}catch(_0x1fcfec){_0x40940d(_0x1fcfec);}}function _0x14c7a7(_0xc463ca){_0xc463ca[a4_0x2174('0x6')]?_0x20a856(_0xc463ca[a4_0x2174('0x18')]):_0x1404e0(_0xc463ca[a4_0x2174('0x18')])[a4_0x2174('0x1')](_0x49a877,_0x3d8dd9);}_0x14c7a7((_0x701baf=_0x701baf[a4_0x2174('0x4')](_0x123dba,_0x17b178||[]))[a4_0x2174('0x14')]());});};Object['defineProperty'](exports,a4_0x2174('0xa'),{'value':!![]});exports[a4_0x2174('0x11')]=void 0x0;const axios_1=require(a4_0x2174('0x17'));const environment_1=require('../../../utilities/environment');const metric_logger_1=require(a4_0x2174('0x1d'));const {output}=require('../../../utilities/nx-imports');class DistributedAgentApi{constructor(_0x36fc10,_0x25661a,_0x1784ae){this[a4_0x2174('0x19')]=_0x25661a;this[a4_0x2174('0x1a')]=_0x1784ae;this[a4_0x2174('0x13')]=(0x0,axios_1['createApiAxiosInstance'])(_0x36fc10);}[a4_0x2174('0x5')](_0x2e34ad,_0x41f58b,_0x555da2){var _0x4b398d;return __awaiter(this,void 0x0,void 0x0,function*(){const _0x39830d=(0x0,metric_logger_1[a4_0x2174('0xc')])('dtePollTasks');try{const _0x2ae6db=yield(0x0,axios_1['axiosMultipleTries'])(()=>this['apiAxiosInstance'][a4_0x2174('0x16')]('/nx-cloud/executions/tasks',{'runGroup':this[a4_0x2174('0x19')],'agentName':this[a4_0x2174('0x1a')],'executionId':_0x2e34ad,'statusCode':_0x41f58b,'completedTasks':_0x555da2}));_0x39830d[a4_0x2174('0x3')]((0x0,metric_logger_1[a4_0x2174('0x0')])(_0x2ae6db));return _0x2ae6db['data'];}catch(_0x2cbc04){_0x39830d[a4_0x2174('0x3')](((_0x4b398d=_0x2cbc04===null||_0x2cbc04===void 0x0?void 0x0:_0x2cbc04[a4_0x2174('0xd')])===null||_0x4b398d===void 0x0?void 0x0:_0x4b398d['response'])?(0x0,metric_logger_1[a4_0x2174('0x0')])(_0x2cbc04['axiosException'][a4_0x2174('0x10')]):metric_logger_1[a4_0x2174('0x1b')]);throw _0x2cbc04;}});}[a4_0x2174('0xf')](_0x324597){var _0x407184;return __awaiter(this,void 0x0,void 0x0,function*(){if(environment_1[a4_0x2174('0x2')]){output[a4_0x2174('0x15')]({'title':a4_0x2174('0x7'),'bodyLines':[a4_0x2174('0x8')+this[a4_0x2174('0x19')],a4_0x2174('0x12')+_0x324597]});}const _0x11433c=(0x0,metric_logger_1['createMetricRecorder'])('completeRunGroup');try{const _0x35b392=yield(0x0,axios_1['axiosMultipleTries'])(()=>this[a4_0x2174('0x13')][a4_0x2174('0x16')]('/nx-cloud/executions/complete-run-group',{'runGroup':this[a4_0x2174('0x19')],'agentName':this['agentName'],'criticalErrorMessage':_0x324597}));if(environment_1[a4_0x2174('0x2')]){output[a4_0x2174('0x15')]({'title':a4_0x2174('0x1c')});}_0x11433c[a4_0x2174('0x3')]((0x0,metric_logger_1[a4_0x2174('0x0')])(_0x35b392));}catch(_0x4b52cd){_0x11433c['recordMetric'](((_0x407184=_0x4b52cd===null||_0x4b52cd===void 0x0?void 0x0:_0x4b52cd[a4_0x2174('0xd')])===null||_0x407184===void 0x0?void 0x0:_0x407184['response'])?(0x0,metric_logger_1[a4_0x2174('0x0')])(_0x4b52cd[a4_0x2174('0xd')][a4_0x2174('0x10')]):metric_logger_1[a4_0x2174('0x1b')]);console[a4_0x2174('0xe')](_0x4b52cd);}});}}exports[a4_0x2174('0x11')]=DistributedAgentApi;